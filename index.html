<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ïã¨Î¶¨Ï†Ñ ÏãúÎÆ¨Î†àÏù¥ÌÑ∞</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #09090b;
      color: #fff;
      min-height: 100vh;
      padding: 24px;
      line-height: 1.6;
    }
    
    .container {
      max-width: 540px;
      margin: 0 auto;
    }
    
    .header {
      margin-bottom: 32px;
      text-align: center;
    }

    .brand {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-bottom: 16px;
    }

    .logo {
      width: 44px;
      height: 44px;
      border-radius: 50%;
    }

    .brand-name {
      font-size: 16px;
      color: #a78bfa;
      font-weight: 500;
    }
    
    .header h1 {
      font-size: 24px;
      color: #ef4444;
      margin-bottom: 4px;
    }
    
    .header p {
      font-size: 14px;
      color: #71717a;
    }
    
    .progress {
      display: flex;
      gap: 8px;
      margin-bottom: 24px;
    }
    
    .progress-bar {
      height: 4px;
      flex: 1;
      border-radius: 4px;
      background: #27272a;
      transition: background 0.3s;
    }
    
    .progress-bar.completed {
      background: #ef4444;
    }
    
    .progress-bar.current {
      background: rgba(239, 68, 68, 0.5);
    }
    
    .scenario-card {
      background: #18181b;
      border-radius: 16px;
      padding: 24px;
      margin-bottom: 24px;
    }
    
    .context {
      font-size: 12px;
      color: #71717a;
      margin-bottom: 12px;
    }
    
    .situation {
      font-size: 18px;
      line-height: 1.7;
    }
    
    .choices {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    .choice-btn {
      width: 100%;
      text-align: left;
      padding: 16px;
      background: #18181b;
      border: 1px solid #27272a;
      border-radius: 12px;
      color: #fff;
      font-size: 15px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .choice-btn:hover {
      background: #27272a;
      border-color: #3f3f46;
    }
    
    .choice-btn .number {
      color: #71717a;
      margin-right: 8px;
    }
    
    .result-section {
      display: none;
    }
    
    .result-section.show {
      display: block;
    }
    
    .selected-choice {
      padding: 16px;
      background: #18181b;
      border: 2px solid #3f3f46;
      border-radius: 12px;
      margin-bottom: 16px;
    }
    
    .selected-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }
    
    .selected-label {
      font-size: 14px;
      color: #71717a;
    }
    
    .result-badge {
      font-size: 12px;
      padding: 2px 8px;
      border-radius: 9999px;
    }
    
    .result-badge.optimal {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .result-badge.strategic {
      background: rgba(34, 197, 94, 0.2);
      color: #22c55e;
    }
    
    .result-badge.neutral {
      background: rgba(234, 179, 8, 0.2);
      color: #eab308;
    }
    
    .result-badge.weak {
      background: rgba(249, 115, 22, 0.2);
      color: #f97316;
    }
    
    .result-badge.passive {
      background: rgba(249, 115, 22, 0.2);
      color: #f97316;
    }
    
    .result-badge.defensive {
      background: rgba(239, 68, 68, 0.2);
      color: #ef4444;
    }
    
    .selected-text {
      color: #d4d4d8;
    }
    
    .outcome-card {
      padding: 16px;
      background: rgba(24, 24, 27, 0.5);
      border-radius: 12px;
      margin-bottom: 16px;
    }
    
    .outcome-label {
      font-size: 14px;
      color: #71717a;
      margin-bottom: 8px;
    }
    
    .outcome-text {
      color: #d4d4d8;
    }
    
    .principle-card {
      padding: 20px;
      background: linear-gradient(135deg, rgba(127, 29, 29, 0.3), #18181b);
      border: 1px solid rgba(127, 29, 29, 0.3);
      border-radius: 12px;
      margin-bottom: 16px;
    }
    
    .principle-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }
    
    .principle-dot {
      width: 8px;
      height: 8px;
      background: #ef4444;
      border-radius: 50%;
    }
    
    .principle-name {
      color: #f87171;
      font-weight: 600;
    }
    
    .principle-explanation {
      color: #a1a1aa;
      line-height: 1.7;
    }
    
    .other-choices {
      padding-top: 16px;
      border-top: 1px solid #27272a;
      margin-bottom: 16px;
    }
    
    .other-label {
      font-size: 14px;
      color: #71717a;
      margin-bottom: 12px;
    }
    
    .other-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      margin-bottom: 8px;
    }
    
    .other-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
    }
    
    .other-dot.optimal, .other-dot.strategic {
      background: #22c55e;
    }
    
    .other-dot.neutral {
      background: #eab308;
    }
    
    .other-dot.weak, .other-dot.passive {
      background: #f97316;
    }
    
    .other-dot.defensive {
      background: #ef4444;
    }
    
    .other-principle {
      color: #71717a;
    }
    
    .next-btn {
      width: 100%;
      padding: 16px;
      background: #dc2626;
      border: none;
      border-radius: 12px;
      color: #fff;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .next-btn:hover {
      background: #b91c1c;
    }
    
    .final-screen {
      display: none;
      text-align: center;
      padding: 40px 20px;
    }
    
    .final-screen.show {
      display: block;
    }
    
    .final-score {
      font-size: 48px;
      font-weight: bold;
      color: #ef4444;
      margin-bottom: 8px;
    }
    
    .final-label {
      font-size: 18px;
      color: #71717a;
      margin-bottom: 24px;
    }
    
    .final-message {
      font-size: 16px;
      color: #a1a1aa;
      margin-bottom: 32px;
      line-height: 1.7;
    }
    
    .share-section {
      margin-bottom: 24px;
    }
    
    .share-label {
      font-size: 14px;
      color: #71717a;
      margin-bottom: 12px;
    }
    
    .share-buttons {
      display: flex;
      gap: 8px;
      justify-content: center;
      flex-wrap: wrap;
    }
    
    .share-btn {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 12px 16px;
      background: #27272a;
      border: 1px solid #3f3f46;
      border-radius: 8px;
      color: #fff;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .share-btn:hover {
      background: #3f3f46;
    }
    
    .share-btn.success {
      background: #166534;
      border-color: #22c55e;
    }
    
    .restart-btn {
      width: 100%;
      padding: 16px;
      background: #dc2626;
      border: none;
      border-radius: 12px;
      color: #fff;
      font-size: 16px;
      font-weight: 500;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .restart-btn:hover {
      background: #b91c1c;
    }

    .promo-section {
      margin-top: 32px;
      padding-top: 24px;
      border-top: 1px solid #27272a;
    }

    .promo-label {
      font-size: 14px;
      color: #71717a;
      margin-bottom: 12px;
      text-align: center;
    }

    .promo-buttons {
      display: flex;
      gap: 10px;
      justify-content: center;
    }

    .promo-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px 18px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 500;
      text-decoration: none;
      transition: all 0.2s;
    }

    .youtube-btn {
      background: #18181b;
      border: 1px solid #27272a;
      color: #fff;
    }

    .youtube-btn:hover {
      background: #dc2626;
      border-color: #dc2626;
    }

    .book-btn {
      background: #7c3aed;
      border: 1px solid #7c3aed;
      color: #fff;
    }

    .book-btn:hover {
      background: #6d28d9;
      border-color: #6d28d9;
    }

    .book-section {
      margin-top: 24px;
    }

    .book-label {
      font-size: 14px;
      color: #71717a;
      margin-bottom: 12px;
      text-align: center;
    }

    .book-container {
      display: flex;
      gap: 16px;
      justify-content: center;
      text-decoration: none;
    }

    .book-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
    }

    .book-image {
      width: 120px;
      height: auto;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
      transition: transform 0.2s;
    }

    .book-image:hover {
      transform: scale(1.05);
    }

    .book-title {
      font-size: 12px;
      color: #a1a1aa;
    }

    .hidden {
      display: none !important;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div class="brand">
        <img src="logo.png" alt="Ïù¥ÌÅ¥Î¶ΩÏä§" class="logo">
        <span class="brand-name">Ïù¥ÌÅ¥Î¶ΩÏä§</span>
      </div>
      <h1>Ïã¨Î¶¨Ï†Ñ ÏãúÎÆ¨Î†àÏù¥ÌÑ∞</h1>
      <p>ÎãπÏã†Ïùò ÏÑ†ÌÉù Îí§Ïóê Ïà®Í≤®ÏßÑ ÏõêÏπôÏùÑ Î∞úÍ≤¨ÌïòÏÑ∏Ïöî</p>
    </div>
    
    <div class="progress" id="progress"></div>
    
    <div id="game-screen">
      <div class="scenario-card">
        <div class="context" id="context"></div>
        <div class="situation" id="situation"></div>
      </div>
      
      <div class="choices" id="choices"></div>
      
      <div class="result-section" id="result-section">
        <div class="selected-choice">
          <div class="selected-header">
            <span class="selected-label">ÏÑ†ÌÉùÌïú ÎãµÎ≥Ä</span>
            <span class="result-badge" id="result-badge"></span>
          </div>
          <div class="selected-text" id="selected-text"></div>
        </div>
        
        <div class="outcome-card">
          <div class="outcome-label">Í≤∞Í≥º</div>
          <div class="outcome-text" id="outcome-text"></div>
        </div>
        
        <div class="principle-card">
          <div class="principle-header">
            <div class="principle-dot"></div>
            <span class="principle-name" id="principle-name"></span>
          </div>
          <div class="principle-explanation" id="principle-explanation"></div>
        </div>
        
        <div class="other-choices">
          <div class="other-label">Îã§Î•∏ ÏÑ†ÌÉùÏßÄÏùò ÏõêÏπô</div>
          <div id="other-principles"></div>
        </div>
        
        <button class="next-btn" id="next-btn">Îã§Ïùå ÏÉÅÌô©</button>
      </div>
    </div>
    
    <div class="final-screen" id="final-screen">
      <div class="final-score" id="final-score">0/6</div>
      <div class="final-label">ÎãπÏã†Ïùò Ïã¨Î¶¨Ï†Ñ Ï†êÏàò</div>
      <div class="final-message" id="final-message"></div>
      <div class="share-section">
        <div class="share-label">ÏπúÍµ¨ÏóêÍ≤å Í≥µÏú†ÌïòÍ∏∞</div>
        <div class="share-buttons">
          <button class="share-btn" id="native-share-btn">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/>
              <polyline points="16 6 12 2 8 6"/>
              <line x1="12" y1="2" x2="12" y2="15"/>
            </svg>
            Í≥µÏú†ÌïòÍ∏∞
          </button>
          <button class="share-btn" id="copy-btn">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
            </svg>
            ÎßÅÌÅ¨ Î≥µÏÇ¨
          </button>
        </div>
      </div>
      <button class="restart-btn" id="restart-btn">Îã§Ïãú ÎèÑÏ†ÑÌïòÍ∏∞</button>
      
      <div class="promo-section">
        <div class="promo-label">Ïù¥ÌÅ¥Î¶ΩÏä§ Îçî ÏïåÏïÑÎ≥¥Í∏∞</div>
        <div class="promo-buttons">
          <a href="https://www.youtube.com/@Eclipse-g4e" target="_blank" class="promo-btn youtube-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
              <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
            </svg>
            Ïú†ÌäúÎ∏å Ï±ÑÎÑê
          </a>
        </div>
        
        <div class="book-section">
          <div class="book-label">Ïù¥ÌÅ¥Î¶ΩÏä§Ïùò Ï±Ö</div>
          <a href="https://litt.ly/eclipse.thinker" target="_blank" class="book-container">
            <div class="book-item">
              <img src="book-philosophy.png" alt="ÏÑ∏Í≥ÑÏ≤†ÌïôÏ†ÑÏßë - ÌõîÏπú Ï≤†Ìïô Ìé∏" class="book-image">
              <span class="book-title">ÌõîÏπú Ï≤†Ìïô Ìé∏</span>
            </div>
            <div class="book-item">
              <img src="book-psychology.png" alt="ÏÑ∏Í≥ÑÏ≤†ÌïôÏ†ÑÏßë - ÌõîÏπú Ïã¨Î¶¨Ìïô Ìé∏" class="book-image">
              <span class="book-title">ÌõîÏπú Ïã¨Î¶¨Ìïô Ìé∏</span>
            </div>
          </a>
        </div>
      </div>
    </div>
  </div>

  <script>
    const scenarios = [
      {
        id: 1,
        situation: "ÌöåÏÇ¨ ÎèôÎ£åÍ∞Ä ÎÑ§ ÏïÑÏù¥ÎîîÏñ¥Î•º ÏûêÍ∏∞ Í≤ÉÏ≤òÎüº Î∞úÌëúÌñàÎã§. ÌöåÏùò ÎÅùÎÇòÍ≥† ÎëòÎßå ÎÇ®ÏïòÏùÑ Îïå, Î≠êÎùºÍ≥† Ìï†Íπå?",
        context: "ÏÉÅÌô©: ÌåÄ ÌöåÏùò ÏßÅÌõÑ, ÌöåÏùòÏã§",
        choices: [
          {
            text: "\"Ïïº Í∑∏Í±∞ ÎÇ¥ ÏïÑÏù¥ÎîîÏñ¥ÏûñÏïÑ. Ïôú Í∑∏Îûò?\"",
            result: "defensive",
            resultLabel: "Î∞©Ïñ¥ Ïú†Î∞ú",
            outcome: "ÎèôÎ£åÍ∞Ä Î∞©Ïñ¥Ï†ÅÏúºÎ°ú ÎÇòÏò§Î©∞ \"Í∑∏ÎÉ• ÎπÑÏä∑ÌïòÍ≤å ÏÉùÍ∞ÅÌïú Í±∞ÏßÄ\" ÎùºÍ≥† Î∞úÎ∫åÌïúÎã§.",
            principle: "ÏßÅÏ†ë ÎåÄÎ¶Ω",
            explanation: "Ï†ïÎ©¥ Í≥µÍ≤©ÏùÄ ÏÉÅÎåÄÎ•º Î∞©Ïñ¥ Î™®ÎìúÎ°ú ÎßåÎì†Îã§. ÏßÑÏã§ÏùÑ Ïù∏Ï†ïÎ∞õÍ∏∞ Ïñ¥Î†§ÏõåÏßÑÎã§.",
            score: 0
          },
          {
            text: "\"ÏïÑÍπå Î∞úÌëú Ïûò Îì§ÏóàÏñ¥. Í∑ºÎç∞ Ï†ÄÎ≤àÏóê ÎÇ¥Í∞Ä ÎßêÌïú Í±∞Îûë ÎπÑÏä∑ÌïòÎçîÎùº?\"",
            result: "neutral",
            resultLabel: "Ï§ëÎ¶Ω",
            outcome: "ÎèôÎ£åÍ∞Ä Ïû†Ïãú Î©àÏπ´ÌïòÎ©∞ \"Ïñ¥... Í∑∏Îû¨ÎÇò?\" ÌïòÍ≥† Ïñ¥ÏÉâÌï¥ÌïúÎã§.",
            principle: "ÏßàÎ¨∏Ìòï ÏïïÎ∞ï",
            explanation: "Îã®Ï†ï ÎåÄÏã† ÏßàÎ¨∏ÏúºÎ°ú ÏÉÅÎåÄÍ∞Ä Ïä§Ïä§Î°ú Ïù∏Ï†ïÌïòÍ≤å ÎßåÎì†Îã§. ÎèÑÎßùÍ∞à Íµ¨Î©çÏùÑ ÎßâÎäî Í∏∞Ïà†.",
            score: 1
          },
          {
            text: "\"Î∞úÌëú Í¥úÏ∞ÆÏïòÏñ¥. Îã§ÏùåÏóî Í∞ôÏù¥ Ï§ÄÎπÑÌï¥Î≥ºÍπå? ÎÇ¥Í∞Ä Ï¢Ä Îçî Î≥¥ÌÉ§ Í≤å ÏûàÏñ¥ÏÑú\"",
            result: "strategic",
            resultLabel: "Ï†ÑÎûµÏ†Å ÏÑ†ÌÉù",
            outcome: "ÎèôÎ£åÍ∞Ä ÎãπÌô©ÌïòÎ©∞ Í≥†ÎßàÏõåÌïúÎã§. Ïù¥ÌõÑ ÌöåÏùòÏóêÏÑú ÎÑ§ Ïù¥Î¶ÑÏùÑ Î®ºÏ†Ä Ïñ∏Í∏âÌïòÍ∏∞ ÏãúÏûëÌïúÎã§.",
            principle: "Ï†ÑÎûµÏ†Å Í¥ÄÏö©",
            explanation: "ÎπöÏùÑ ÏßÄÍ≤å ÎßåÎì§Î©¥ Ïù¥ÌõÑ ÌñâÎèôÏùÑ ÌÜµÏ†úÌï† Ïàò ÏûàÎã§. Î≥µÏàòÎ≥¥Îã§ ÏòÅÌñ•Î†•Ïù¥ ÎÇ®Îäî ÏÑ†ÌÉù.",
            score: 2
          }
        ]
      },
      {
        id: 2,
        situation: "ÏπúÍµ¨Í∞Ä ÎπåÎ¶∞ Îèà 30ÎßåÏõêÏùÑ 3Í∞úÏõîÏß∏ Ïïà Í∞öÍ≥† ÏûàÎã§. Ïò§Îäò Îòê \"Îã§Ïùå Îã¨Ïóê Ï§ÑÍ≤å\"ÎùºÍ≥† ÌïúÎã§.",
        context: "ÏÉÅÌô©: Ïπ¥ÌéòÏóêÏÑú ÎåÄÌôî Ï§ë",
        choices: [
          {
            text: "\"ÏïåÍ≤†Ïñ¥, Îã§Ïùå Îã¨Ïóê Íº≠ Ï§ò\"",
            result: "passive",
            resultLabel: "ÏàòÎèôÏ†Å ÏÑ†ÌÉù",
            outcome: "Îã§Ïùå Îã¨ÏóêÎèÑ Í∞ôÏùÄ ÎßêÏùÑ Îì£ÎäîÎã§. Í¥ÄÍ≥ÑÎäî Ïú†ÏßÄÎêòÏßÄÎßå ÎèàÏùÄ ÎèåÏïÑÏò§ÏßÄ ÏïäÎäîÎã§.",
            principle: "Î¨¥Ìïú ÏñëÎ≥¥",
            explanation: "Îç∞ÎìúÎùºÏù∏ ÏóÜÎäî ÏïΩÏÜçÏùÄ ÏïΩÏÜçÏù¥ ÏïÑÎãàÎã§. ÏÉÅÎåÄÎäî 'Îòê ÎÑòÏñ¥Í∞ÄÎÑ§'Î•º ÌïôÏäµÌïúÎã§.",
            score: 0
          },
          {
            text: "\"Îã§Ïùå Îã¨ Î©∞Ïπ†? Ï∫òÎ¶∞ÎçîÏóê Ï†ÅÏñ¥ÎëòÍ≤å\"",
            result: "strategic",
            resultLabel: "Ï†ÑÎûµÏ†Å ÏÑ†ÌÉù",
            outcome: "ÏπúÍµ¨Í∞Ä \"Ïñ¥... 15Ïùº?\" ÌïòÍ≥† Íµ¨Ï≤¥Ï†Å ÎÇ†ÏßúÎ•º ÎßêÌïúÎã§. Í∑∏ ÎÇ† Ïã§Ï†úÎ°ú ÏûÖÍ∏àÎêúÎã§.",
            principle: "Íµ¨Ï≤¥Ìôî ÏïïÎ∞ï",
            explanation: "Î™®Ìò∏Ìï®ÏùÑ Íµ¨Ï≤¥Ï†Å ÏïΩÏÜçÏúºÎ°ú Î∞îÍæ∏Î©¥ Ïã¨Î¶¨Ï†Å Íµ¨ÏÜçÎ†•Ïù¥ ÏÉùÍ∏¥Îã§. Í∏∞Î°ùÏùÄ Ï¶ùÍ±∞Í∞Ä ÎêúÎã§.",
            score: 2
          },
          {
            text: "\"ÎÇòÎèÑ Ï¢Ä Í∏âÌï¥ÏÑú Í∑∏Îûò. Ïù¥Î≤à Ï£º Í∏àÏöîÏùºÍπåÏßÄÎßå 10ÎßåÏõêÏù¥ÎùºÎèÑ Í∞ÄÎä•Ìï¥?\"",
            result: "optimal",
            resultLabel: "ÏµúÏ†ÅÏùò Ïàò",
            outcome: "ÏπúÍµ¨Í∞Ä ÎØ∏ÏïàÌï¥ÌïòÎ©∞ Í∏àÏöîÏùºÏóê 10ÎßåÏõêÏùÑ Î≥¥ÎÇ∏Îã§. Ïù¥ÌõÑ ÎÇòÎ®∏ÏßÄÎèÑ ÎÇòÎà†ÏÑú Í∞öÎäîÎã§.",
            principle: "ÏûëÏùÄ ÏöîÏ≤≠ + Ïù¥Ïú† Ï†úÏãú",
            explanation: "'ÏôúÎÉêÌïòÎ©¥' Îí§Ïóê Ïù¥Ïú†Í∞Ä Î∂ôÏúºÎ©¥ ÏäπÎÇôÎ•†Ïù¥ Ïò¨ÎùºÍ∞ÑÎã§. ÏûëÏùÄ Îã®ÏúÑÎ°ú Ï™ºÍ∞úÎ©¥ Ïã¨Î¶¨Ï†Å Ï†ÄÌï≠Ïù¥ ÎÇÆÏïÑÏßÑÎã§.",
            score: 2
          }
        ]
      },
      {
        id: 3,
        situation: "ÎßàÏùåÏóê ÎìúÎäî ÏÇ¨ÎûåÏù¥ ÏûàÎã§. Ïπ¥ÌÜ°ÏùÄ ÌïòÎäîÎç∞ ÎßåÎÇ®ÏúºÎ°ú Ïù¥Ïñ¥ÏßÄÏßà ÏïäÎäîÎã§. Ïò§Îäò ÎåÄÌôîÍ∞Ä Ï¢Ä Ïûò ÌíÄÎ†∏Îã§.",
        context: "ÏÉÅÌô©: Ïπ¥ÌÜ° ÎåÄÌôî Ï§ë, Î∂ÑÏúÑÍ∏∞ Ï¢ãÏùå",
        choices: [
          {
            text: "\"Ïö∞Î¶¨ Ïñ∏Ï†ú Î∞• ÌïúÎ≤à Î®πÏûê!\"",
            result: "weak",
            resultLabel: "ÏïΩÌïú Ïàò",
            outcome: "\"„Öã„Öã Í∑∏Îü¨Ïûê~\" ÎùºÎäî ÎãµÏù¥ Ïò®Îã§. Í∑∏Î¶¨Í≥† ÏïÑÎ¨¥ ÏùºÎèÑ ÏùºÏñ¥ÎÇòÏßÄ ÏïäÎäîÎã§.",
            principle: "Ïó¥Î¶∞ Ï†úÏïà",
            explanation: "'Ïñ∏Ï†ú'Îäî 'ÏïÑÎ¨¥ ÎïåÎÇò'Í∞Ä ÎêòÍ≥†, 'ÏïÑÎ¨¥ ÎïåÎÇò'Îäî 'Ï†àÎåÄ Ïïà'Ïù¥ ÎêúÎã§.",
            score: 0
          },
          {
            text: "\"Ïù¥Î≤à Ï£º ÌÜ†ÏöîÏùº Ï†ÄÎÖÅÏóê ÏãúÍ∞Ñ Îèº? Í∞ÄÎ≥¥Í≥† Ïã∂ÏùÄ Îç∞Í∞Ä ÏûàÏñ¥ÏÑú\"",
            result: "optimal",
            resultLabel: "ÏµúÏ†ÅÏùò Ïàò",
            outcome: "\"ÌÜ†ÏöîÏùº? Ïû†ÍπêÎßå\" ÌïòÍ≥† ÏùºÏ†ïÏùÑ ÌôïÏù∏ÌïúÎã§. Íµ¨Ï≤¥Ï†ÅÏù∏ ÎåÄÌôîÍ∞Ä ÏãúÏûëÎêúÎã§.",
            principle: "Íµ¨Ï≤¥Ï†Å Ï†úÏïà + Ïù¥Ïú†",
            explanation: "Yes/NoÎ°ú ÎãµÌï† Ïàò ÏûàÎäî ÏßàÎ¨∏Ïù¥ Í≤∞Ï†ïÏùÑ Ïù¥ÎÅàÎã§. 'Í∞ÄÎ≥¥Í≥† Ïã∂ÏùÄ Îç∞'Îäî Ìò∏Í∏∞Ïã¨ÏùÑ ÏûêÍ∑πÌïúÎã§.",
            score: 2
          },
          {
            text: "\"ÏöîÏ¶ò Î≠ê Î®πÍ≥† Ïã∂ÏùÄ Í±∞ ÏûàÏñ¥?\"",
            result: "neutral",
            resultLabel: "Ï§ëÎ¶Ω",
            outcome: "\"Ïùå... Îî±Ìûà?\" ÎòêÎäî ÏùåÏãù ÏñòÍ∏∞Î°ú Îπ†ÏßÑÎã§. ÎßåÎÇ® ÏñòÍ∏∞Îäî ÌùêÏßÄÎ∂ÄÏßÄÎêúÎã§.",
            principle: "Í∞ÑÏ†ë ÌÉêÏÉâ",
            explanation: "ÏùòÎèÑÍ∞Ä Ïà®Í≤®ÏßÑ ÏßàÎ¨∏ÏùÄ ÏõêÌïòÎäî ÎãµÏùÑ Î™ª ÏñªÎäîÎã§. ÏÉÅÎåÄÎèÑ ÏóêÎÑàÏßÄÎ•º Ïì∞Í∏∞ Ïã´Ïñ¥ÌïúÎã§.",
            score: 1
          }
        ]
      }
    ];

    const finalMessages = {
      low: "ÏïÑÏßÅ Í∞êÏù¥ Îçú Ïû°ÌòîÏñ¥Ïöî. ÌïòÏßÄÎßå Í±±Ï†ï ÎßàÏÑ∏Ïöî ‚Äî Ïã¨Î¶¨Ï†ÑÏùÄ ÌÉÄÍ≥†ÎÇòÎäî Í≤å ÏïÑÎãàÎùº Î∞∞Ïö∞Îäî Í≤ÅÎãàÎã§. Îã§Ïãú ÌïúÎ≤à Ìï¥Î≥¥Î©¥ÏÑú Ìå®ÌÑ¥ÏùÑ ÏùµÌòÄÎ≥¥ÏÑ∏Ïöî.",
      mid: "ÍΩ§ Í¥úÏ∞ÆÏùÄ Í∞êÍ∞ÅÏù¥ÏóêÏöî! Î™á Í∞ÄÏßÄ ÏÉÅÌô©ÏóêÏÑú Îçî Ï†ÑÎûµÏ†ÅÏù∏ ÏÑ†ÌÉùÏù¥ Í∞ÄÎä•ÌñàÏßÄÎßå, Í∏∞Î≥∏Ï†ÅÏù∏ Ïã¨Î¶¨ ÏõêÏπôÏùÄ Ïù¥Ìï¥ÌïòÍ≥† ÏûàÎÑ§Ïöî.",
      high: "ÎåÄÎã®Ìï¥Ïöî. ÎãπÏã†ÏùÄ Ïù¥ÎØ∏ ÏÇ¨ÎûåÏùò ÎßàÏùåÏùÑ ÏùΩÎäî Î≤ïÏùÑ ÏïåÍ≥† ÏûàÍµ∞Ïöî. Ïù¥ Í∞êÍ∞ÅÏùÑ Ïã§Ï†ÑÏóêÏÑúÎèÑ Ïç®Î≥¥ÏÑ∏Ïöî."
    };

    let currentScenario = 0;
    let selectedChoice = null;
    let scores = [];

    function init() {
      renderProgress();
      renderScenario();
      document.getElementById('next-btn').addEventListener('click', nextScenario);
      document.getElementById('restart-btn').addEventListener('click', restart);
      document.getElementById('native-share-btn').addEventListener('click', nativeShare);
      document.getElementById('copy-btn').addEventListener('click', copyLink);
    }

    function renderProgress() {
      const progressEl = document.getElementById('progress');
      progressEl.innerHTML = scenarios.map((_, idx) => {
        let className = 'progress-bar';
        if (idx < currentScenario) className += ' completed';
        else if (idx === currentScenario) className += ' current';
        return `<div class="${className}"></div>`;
      }).join('');
    }

    function renderScenario() {
      const scenario = scenarios[currentScenario];
      document.getElementById('context').textContent = scenario.context;
      document.getElementById('situation').textContent = scenario.situation;
      
      const choicesEl = document.getElementById('choices');
      choicesEl.innerHTML = scenario.choices.map((choice, idx) => `
        <button class="choice-btn" data-index="${idx}">
          <span class="number">${idx + 1}.</span>${choice.text}
        </button>
      `).join('');
      
      choicesEl.querySelectorAll('.choice-btn').forEach(btn => {
        btn.addEventListener('click', () => handleChoice(parseInt(btn.dataset.index)));
      });
      
      document.getElementById('choices').classList.remove('hidden');
      document.getElementById('result-section').classList.remove('show');
    }

    function handleChoice(index) {
      selectedChoice = index;
      const scenario = scenarios[currentScenario];
      const choice = scenario.choices[index];
      
      scores.push(choice.score);
      
      // Hide choices, show result
      document.getElementById('choices').classList.add('hidden');
      document.getElementById('result-section').classList.add('show');
      
      // Fill result content
      const badge = document.getElementById('result-badge');
      badge.textContent = choice.resultLabel;
      badge.className = 'result-badge ' + choice.result;
      
      document.getElementById('selected-text').textContent = choice.text;
      document.getElementById('outcome-text').textContent = choice.outcome;
      document.getElementById('principle-name').textContent = choice.principle;
      document.getElementById('principle-explanation').textContent = choice.explanation;
      
      // Other choices
      const otherEl = document.getElementById('other-principles');
      otherEl.innerHTML = scenario.choices
        .filter((_, idx) => idx !== index)
        .map(c => `
          <div class="other-item">
            <div class="other-dot ${c.result}"></div>
            <span class="other-principle">${c.principle}</span>
          </div>
        `).join('');
      
      // Update button text
      const isLast = currentScenario === scenarios.length - 1;
      document.getElementById('next-btn').textContent = isLast ? 'Í≤∞Í≥º Î≥¥Í∏∞' : 'Îã§Ïùå ÏÉÅÌô©';
    }

    function nextScenario() {
      if (currentScenario < scenarios.length - 1) {
        currentScenario++;
        selectedChoice = null;
        renderProgress();
        renderScenario();
      } else {
        showFinalScreen();
      }
    }

    function showFinalScreen() {
      document.getElementById('game-screen').classList.add('hidden');
      document.getElementById('final-screen').classList.add('show');
      
      const total = scores.reduce((a, b) => a + b, 0);
      const max = scenarios.length * 2;
      
      document.getElementById('final-score').textContent = `${total}/${max}`;
      
      let message;
      if (total <= 2) message = finalMessages.low;
      else if (total <= 4) message = finalMessages.mid;
      else message = finalMessages.high;
      
      document.getElementById('final-message').textContent = message;
    }

    const SITE_URL = 'https://eclipse-mindlab.github.io/mindgame/';

    function getShareText() {
      const total = scores.reduce((a, b) => a + b, 0);
      const max = scenarios.length * 2;
      return `üéØ Ïã¨Î¶¨Ï†Ñ ÏãúÎÆ¨Î†àÏù¥ÌÑ∞ Í≤∞Í≥º: ${total}/${max}Ï†ê\n\nÎãπÏã†Ïùò Ïã¨Î¶¨Ï†Ñ Í∞êÍ∞ÅÏùÑ ÌÖåÏä§Ìä∏Ìï¥Î≥¥ÏÑ∏Ïöî!`;
    }

    function nativeShare() {
      const total = scores.reduce((a, b) => a + b, 0);
      const max = scenarios.length * 2;
      
      if (navigator.share) {
        navigator.share({
          title: 'Ïã¨Î¶¨Ï†Ñ ÏãúÎÆ¨Î†àÏù¥ÌÑ∞',
          text: `üéØ ÎÇòÏùò Ïã¨Î¶¨Ï†Ñ Ï†êÏàò: ${total}/${max}Ï†ê\nÎãπÏã†Ïùò Ïã¨Î¶¨Ï†Ñ Í∞êÍ∞ÅÏùÑ ÌÖåÏä§Ìä∏Ìï¥Î≥¥ÏÑ∏Ïöî!`,
          url: SITE_URL
        }).catch(() => {});
      } else {
        copyLink();
      }
    }

    function copyLink() {
      const text = getShareText() + '\n' + SITE_URL;
      const btn = document.getElementById('copy-btn');
      
      navigator.clipboard.writeText(text).then(() => {
        btn.classList.add('success');
        btn.innerHTML = `
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="20 6 9 17 4 12"/>
          </svg>
          Î≥µÏÇ¨ ÏôÑÎ£å!
        `;
        setTimeout(() => {
          btn.classList.remove('success');
          btn.innerHTML = `
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
            </svg>
            ÎßÅÌÅ¨ Î≥µÏÇ¨
          `;
        }, 2000);
      });
    }

    function restart() {
      currentScenario = 0;
      selectedChoice = null;
      scores = [];
      
      document.getElementById('final-screen').classList.remove('show');
      document.getElementById('game-screen').classList.remove('hidden');
      
      renderProgress();
      renderScenario();
    }

    init();
  </script>
</body>
</html>
